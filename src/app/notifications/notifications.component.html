<ul class="nav mb-3">
    <back-button></back-button>
    <li class="nav-link" [class.active]="view === 'all'" (click)="onChangeView()">
        All
    </li>
    <li class="nav-link" [class.active]="view === 'unread'" (click)="onChangeView()">
        Unread
    </li>
    <button class="btn btn-link ms-auto">
        <icon type="solid" name="square-check"></icon>
        Mark all as Read
    </button>
</ul>

<ng-container *ngIf="notifications$|async as notifications">
    <list *ngIf="notifications.length" [class.skeleton]="isBusy$|async">
        <list-item *ngFor="let notification of notifications" class="py-3" [active]="!notification.read"
            [class.cursor-pointer]="notification.link" (click)="onClick(notification)">
            <div *ngIf="apps$|async as apps" class="avatar avatar-32 bg-dark-l-50 text-dark rounded-circle me-3 bone">
                <icon type="solid" [name]="apps[notification.app].icon"></icon>
            </div>
            <div>
                <span class="bone">{{notification.message}}</span>
                <div class="caption bone">{{formatDate(notification.date)}}</div>
            </div>
            <list-item-action>
                <button class="btn btn-link text-secondary bone" (click)="onRead($event, notification)">
                    <icon type="solid" name="ellipsis"></icon>
                </button>
            </list-item-action>
        </list-item>
    </list>
    <not-found *ngIf="!notifications.length">
        <not-found-title>No Notifications</not-found-title>
        <not-found-description>There are no notifications to display.</not-found-description>
    </not-found>
</ng-container>
